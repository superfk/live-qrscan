<!DOCTYPE html>
<html>
  <head>
    <title>古亭兒主闖關App</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <!-- <link href="static/css/bootstrap.min.css" rel="stylesheet" media="screen"> -->
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.16.0/css/mdb.min.css" rel="stylesheet">

    <link href="static/css/application.css" rel="stylesheet" media="screen">
    <!-- <link rel="stylesheet" href="static/fontawesome/css/all.css"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>

    <!-- page start -->
    <div class="mypage">
      <div class="mypage-header">
        <div>
          <a id='back' href="#"><i class="fas fa-arrow-left fa-lg"></i></a>
        </div>
        <div id='main-title'>
          <div>古亭兒主闖關</div>
          <a href="#" id='showStatus'><i class="fas fa-chart-bar fa-lg"></i></a>
        </div>
        <div>
          
        </div>
        <div id='systime'>00:00:00</div>
      </div>

      <div class="mypage-content">
        <!-- home page -->
        <div id="home-page" class='my-sub-view'>
          <h4 class="text-center">請選擇身分</h4>
          <button id='iamDev' type="button" class="btn btn-primary btn-large btn-disp-block">我是阿溫</button>
          <button id='iamOwner' type="button" class="btn btn-primary btn-large btn-disp-block">我是關主</button>
          <button id='iamMember' type="button" class="btn btn-primary btn-large btn-disp-block">我是組員</button>
        </div>

        <!-- Dev check Record page -->
        <div id='dev-check-record-page' class='my-sub-view'>
          <form class="text-center" id='check_record_form'>
            <div class="form-row mb-4">
              <div class="col">
                  <!-- First name -->
                  <input type="text" id="searchTeamName" name='searchTeamName' class="form-control" placeholder="隊名">
              </div>
              <div class="col">
                  <!-- Last name -->
                  <input type="number" id="searchGate" name='searchGate' class="form-control" placeholder="第幾關">
              </div>
            </div>
            <button class="btn btn-info my-4 btn-block" type="submit">查詢</button>
            <button id='deleteAllRecord' class="btn btn-info my-4 btn-block" style='background-color: red;color: white;' type="button">刪除所有資料</button>
          </form>

          <div class="myRecordTable">
            <div class="table-responsive text-nowrap">
              <table class="table table-bordered table-striped w-auto">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">隊名</th>
                    <th scope="col">關卡</th>
                    <th scope="col">In/Out</th>
                    <th scope="col">時間</th>
                  </tr>
                </thead>
                <tbody  id='recordsTable'>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- member gate select page -->
        <div id='whichgroup-page' class='my-sub-view'>
          <h4 class="text-center">請輸入隊名</h4>
          <br>
          <form class="text-center" id='group_name_input_form'>
            <div class="form-group">
              <h4 class="text-center">隊名</h4>
              <input type="text" id="groupName" name='group_name' class="form-control">
              <div class="alert alert-danger" role="alert" style='display: none;'>請輸入隊名</div>
              <br>
              <button type="submit" class="btn btn-primary btn-large btn-block">確認</button>
            </div>
          </form>    
        </div>

        <!-- member page -->
        <div id='scan-page' class='my-sub-view'>
          <div id='curGroup' class="text-center alert alert-primary" role="alert"></div>
          <h4 class="text-center">請掃描關主給的QRCODE</h4>
          <a href="#" id='switchCam' style="display: none;"><i class="fas fa-retweet fa-2x"></i></a>
          <!-- Default checked -->
          <div style='display: flex;justify-content: center;align-items: center;'>
            <div class="custom-control custom-switch">
              <input id='closeCamScan' type="checkbox" class="custom-control-input" checked>
              <label class="custom-control-label" for="closeCamScan">相機開關</label>
            </div>
          </div>
          <!-- <button id='closeCamScan' type="button" class="btn btn-primary btn-large btn-block m-1">關閉相機</button> -->
          <button id='stopScan' type="button" class="btn btn-primary btn-large btn-block m-1" style="display: none;">停止掃描</button>
          <br>
          <div class='live-qr-container'>
            <div id="scanner" class="qrscanner"></div>
            <div class='qrscan_text_info'>
              <div id='scannedTextMemo' class="alert alert-success" role="alert" ></div>
            </div>
          </div>     
        </div>

        <!-- login page -->
        <div id='login-page' class='my-sub-view'>
          <h4 class="text-center">請輸入關主密碼</h4>
          <br>
          <form class="text-center" id='owner_login_form'>
            <div class="form-group">
              <h4 class="text-center">密碼</h4>
              <input type="password" id="ownerPW" name='password' class="form-control">
              <div class="alert alert-danger" role="alert" style='display: none;'>密碼錯誤</div>
              <h4 class="text-center">你是哪關的關主</h4>
              <select class="form-control" name='gate'>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
              </select>
              <br>
              <button type="submit" class="btn btn-primary btn-large btn-block">下一步</button>
            </div>
          </form>
        </div>

        <!-- Admin login page -->
        <div id='admin-login-page' class='my-sub-view'>
          <h4 class="text-center">請輸入關主密碼</h4>
          <br>
          <form class="text-center" id='admin_login_form'>
            <div class="form-group">
              <h4 class="text-center">密碼</h4>
              <input type="password" id="adminPW" name='password' class="form-control">
              <div class="alert alert-danger" role="alert" style='display: none;'>密碼錯誤</div>
              <br>
              <button type="submit" class="btn btn-primary btn-large btn-block">下一步</button>
            </div>
          </form>
        </div>

        <!-- in out page -->
        <div id='inout-page' class='my-sub-view'>
          <h4 class="text-center">顯示QRCODE</h4>       
          <button id='showInQr' type="button" class="btn btn-primary btn-large btn-block m-1">IN</button>
          <button id='showOutQr' type="button" class="btn btn-primary btn-large btn-block m-1">OUT</button>
        </div>

        <!-- QR code page -->
        <div id='qrcode-page' class='my-sub-view'>
          <h4 class="text-center"></h4>       
          <div id="qrcode" class="show-qr-container"></div>
        </div>
      
        

        <!-- page-content end -->
      </div>

      <!-- footer -->
      <div class='mypage-footer'>
        <div>v0.9.17</div>
        <div id='debugMsg'></div>
      </div>
    </div>
    <!-- live Status page -->
    <div id='dashboard-page' class='dashboard'>    
      <div class="liveChart-container">
        <canvas id="liveChart"></canvas>
      </div>
    </div>
    <!-- page end -->
    <!-- SocketIO JS -->
    <!-- <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script> -->
    <script type="text/javascript" src="{{ url_for('static', filename='js/socket.io.js') }}"></script>
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.16.0/js/mdb.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.0.3.min.js') }}"></script> -->
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script> -->
    <script type="text/javascript" src="{{ url_for('static', filename='js/qrcode.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/JsQRScanner/jsqrscanner.nocache.js')}}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/application.js') }}"></script>
    
  </body>
</html>